# 🌳 Decision Tree - 意思決定の最適化

## 概要
複雑な意思決定を構造化し、期待値計算と最適戦略の提案を行います。データドリブンな意思決定を支援します。

## 決定木の構成要素

### 1. 決定ノード（□）
- **意思決定**ポイント
- **選択肢**の定義
- **コントロール可能**な要因
- **戦略的**判断点

### 2. 確率ノード（○）
- **不確実性**を表現
- **確率分布**の設定
- **外部要因**の影響
- **リスク**の定量化

### 3. 結果ノード（△）
- **最終結果**
- **定量的**価値
- **定性的**評価
- **総合評価**

### 4. 枝（Edge）
- **因果関係**
- **確率**の表現
- **コスト**の表現
- **制約条件**

## 分析機能

### 期待値計算
```
期待値 = Σ(確率 × 結果値)

例：
新製品開発の期待値
= 0.3 × $2M + 0.5 × $1M + 0.2 × (-$0.5M)
= $0.6M + $0.5M - $0.1M
= $1.0M
```

### 感度分析
- **パラメータ変動**の影響
- **閾値**の特定
- **ロバスト性**の評価
- **重要要因**の特定

### リスク分析
- **標準偏差**の計算
- **VaR**（Value at Risk）
- **最悪ケース**の評価
- **リスク・リターン**分析

### 最適化
- **動的計画法**
- **後ろ向き帰納法**
- **ゲーム理論**的アプローチ
- **多目的最適化**

## 意思決定パターン

### 投資判断
```
投資判断
├─ 投資する（$100K）
│  ├─ 成功（30%）→ $500K利益
│  ├─ 普通（50%）→ $50K利益
│  └─ 失敗（20%）→ -$80K損失
└─ 投資しない → $0
```

### 技術選択
```
技術スタック選択
├─ 新技術採用
│  ├─ 生産性向上（40%）→ 開発期間-30%
│  ├─ 現状維持（40%）→ 開発期間変わらず
│  └─ 問題発生（20%）→ 開発期間+50%
└─ 既存技術継続 → 開発期間変わらず
```

### 市場参入
```
新市場参入
├─ 積極参入（$1M投資）
│  ├─ 市場獲得（25%）→ $5M収益
│  ├─ 一部獲得（50%）→ $2M収益
│  └─ 失敗（25%）→ -$0.8M損失
├─ 段階参入（$300K投資）
│  ├─ 成功（60%）→ $1.5M収益
│  └─ 失敗（40%）→ -$200K損失
└─ 参入見送り → $0
```

## 高度な機能

### Multi-Criteria Decision Analysis
- **複数の評価軸**
- **重み付け**
- **AHP**（階層分析法）
- **TOPSIS**法

### Real Options Analysis
- **将来の選択権**価値
- **段階的**意思決定
- **情報価値**の評価
- **撤退オプション**

### ゲーム理論的分析
- **競合他社**の反応予測
- **Nash均衡**
- **支配戦略**
- **協調vs競争**

## 可視化機能

### インタラクティブ図
- **ズーム/パン**操作
- **ノード詳細**表示
- **パス追跡**
- **What-if**分析

### ダッシュボード
- **期待値**ランキング
- **リスク指標**
- **感度チャート**
- **ROI分析**

### レポート生成
- **エグゼクティブサマリー**
- **詳細分析**
- **推奨事項**
- **実装計画**

## 使用方法
```
/decision-tree [decision-type] [options]
```

例：
- `/decision-tree` - 一般的な意思決定分析
- `/decision-tree investment` - 投資判断特化
- `/decision-tree technology` - 技術選択特化
- `/decision-tree market-entry` - 市場参入特化
- `/decision-tree --monte-carlo` - Monte Carlo分析
- `/decision-tree --sensitivity` - 感度分析
- `/decision-tree --multi-criteria` - 多基準分析

## 入力形式
```yaml
decision:
  name: "新製品開発"
  options:
    - name: "開発実行"
      cost: 100000
      outcomes:
        - probability: 0.3
          value: 500000
          description: "大成功"
        - probability: 0.5
          value: 100000
          description: "成功"
        - probability: 0.2
          value: -50000
          description: "失敗"
    - name: "開発見送り"
      cost: 0
      value: 0
```

## 出力レポート
- **最適戦略**の提示
- **期待値**計算結果
- **リスク評価**
- **感度分析**結果
- **実装ガイダンス**